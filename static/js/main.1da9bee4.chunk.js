(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),i=a(30),l=a(33),u=a(91),d=a(92),m=a(65),s=a(25),p=a(22),E=a(23),f=[{id:1,name:"TV & Home Cinema"},{id:2,name:"Laptops"},{id:3,name:"Watches"},{id:4,name:"Headphones"},{id:5,name:"Phones"},{id:6,name:"Desktops"},{id:7,name:"Monitors"},{id:8,name:"Printers"},{id:9,name:"Monitors"},{id:10,name:"Camera & Photo"},{id:11,name:"Audio & HiFi"}],h=new function e(){Object(E.a)(this,e),this.getCategories=function(){return f}},b="RECEIVE_CATEGORIES",g=function(){return function(e){e({type:"REQUEST_CATEGORIES"}),e(function(e){return{type:b,categories:e.map(function(e){return e})}}(h.getCategories()))}};var D=[{id:1,name:"TV",rating:9,featured:!0,itemsInStock:2,receiptDate:null,brand:"JVC",categories:[1,2,9],expirationDate:null,createdAt:"2019-04-30T16:00:40+03:00"},{id:2,name:"iPhone",rating:2,featured:!1,itemsInStock:0,receiptDate:"2019-06-14",brand:"Apple",categories:[5,4,3],expirationDate:"2019-05-20",createdAt:"2019-05-14T16:00:40+03:00"},{id:3,name:"laptop",rating:5,featured:!1,itemsInStock:10,receiptDate:null,brand:"HP",categories:[2],expirationDate:null,createdAt:"2019-05-20T16:00:40+03:00"}],v=new function e(){Object(E.a)(this,e),this.getProducts=function(){return D},this.createProduct=function(e){var t=Object(s.a)(Object(s.a)({},e),{},{id:Math.max.apply(Math,Object(p.a)(D.map(function(e){return e.id})))+1});return D.push(t),t},this.getProduct=function(e){var t=D.findIndex(function(t){return t.id===e});return D[t]},this.updateProduct=function(e){var t=D.findIndex(function(t){return t.id===e.id});return D[t]=e,e},this.deleteProduct=function(e){var t=D.findIndex(function(t){return t.id===e});return D.splice(t,1)}},y="RECEIVE_PRODUCTS",O="RECEIVE_PRODUCT",C="RECEIVE_CREATE_PRODUCT",j="RECEIVE_DELETE_PRODUCT",P="RECEIVE_UPDATE_PRODUCT",R=function(){return function(e){return e({type:"REQUEST_PRODUCTS"}),e(function(e){return{type:y,products:e.map(function(e){return e})}}(v.getProducts())),Promise.resolve({ok:!0})}},k=function(e){return function(t){t({type:"REQUEST_PRODUCT"}),t(function(e){return{type:O,product:e}}(v.getProduct(e)))}},S=function(e){return function(t){t(function(e){return{type:"REQUEST_DELETE_PRODUCT",id:e}}(e)),v.deleteProduct(e),t(function(e){return{type:j,id:e}}(e))}},T=function(e){return function(t){t(function(e){return{type:"REQUEST_UPDATE_PRODUCT",product:e}}(e)),t(function(e){return{type:P,product:e}}(v.updateProduct(e)))}},x=function(e){return function(t){t(function(e){return{type:"REQUEST_CREATE_PRODUCT",product:e}}(e)),t(function(e){return{type:C,product:e}}(v.createProduct(e)))}};var I=Object(i.combineReducers)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(t.categories);default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(p.a)(t.products);case C:return[].concat(Object(p.a)(e),[t.product]);case P:var a=e.findIndex(function(e){return e.id===t.product.id});return[].concat(Object(p.a)(e.slice(0,a)),[t.product],Object(p.a)(e.slice(a+1)));case j:var n=e.findIndex(function(e){return e.id===t.id});return[].concat(Object(p.a)(e.slice(0,n)),Object(p.a)(e.slice(n+1,e.length)));default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.product||e;default:return e}}}),w=a(42),A=a(39),M=function(e){var t=e.children;return r.a.createElement("div",null,t)},U=a(43),_=a(55),V=a(54),Y=function(e){var t=e.name;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"h3"},t),r.a.createElement("hr",null))},N=a(129),B=a(121),q=a(130),F=a(131),Q=a(93),H=a(118),J=a(119),L=a(120),z=a(138),G=a(122),W=a(123),K=a(124),X=a(125),Z=a(126),$=a(127),ee=a(128),te=(a(85),a(57)),ae=a.n(te),ne=function(e){Object(_.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).toggleDeleteModal=function(){var e=n.state.deleteModalVisible;n.setState({deleteModalVisible:!e})},n.state={deleteModalVisible:!1},n}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.product,n=t.history,c=t.deleteProductDispatch,o=this.state.deleteModalVisible,i=a.receiptDate?ae()(a.receiptDate).format("MM/DD/YYYY"):"-",l=a.expirationDate?ae()(a.expirationDate).format("MM/DD/YYYY"):"-",u=a.createdAt?ae()(a.createdAt).format("MM/DD/YYYY hh:mm a"):"-";return r.a.createElement(H.a,null,r.a.createElement(J.a,{className:"text-center"},r.a.createElement(L.a,{size:"sm"},r.a.createElement(B.a,{color:"info",onClick:function(){n.push("/edit/".concat(a.id))}},"Edit"),r.a.createElement(B.a,{color:"danger",onClick:this.toggleDeleteModal},"Delete"),r.a.createElement(z.a,{isOpen:o,toggle:this.toggleDeleteModal},r.a.createElement(G.a,null,"Are you sure you want to delete the product"," ",r.a.createElement("strong",null,a.name),"?"),r.a.createElement(W.a,null,r.a.createElement(B.a,{color:"danger",onClick:function(){e.toggleDeleteModal(),c(a.id)}},"Delete")," ",r.a.createElement(B.a,{color:"secondary",onClick:this.toggleDeleteModal},"Cancel"))))),r.a.createElement(K.a,null,r.a.createElement(X.a,null,a.name),r.a.createElement(Z.a,{tag:"div"},r.a.createElement($.a,null,r.a.createElement(ee.a,null,"Brand: ",a.brand),r.a.createElement(ee.a,null,"Rating: ",a.rating),r.a.createElement(ee.a,null,"Featured: ",a.featured?"Yes":"No"),r.a.createElement(ee.a,null,"Items In Stock: ",a.itemsInStock),r.a.createElement(ee.a,null,"Categories:",r.a.createElement("ul",null,a.categories.map(function(e){return r.a.createElement("li",{key:e.id},e.name)}))),r.a.createElement(ee.a,null,"Receipt Date: ",i),r.a.createElement(ee.a,null,"Expiration Date: ",l),r.a.createElement(ee.a,null,"Created At: ",u)))))}}]),a}(n.Component),re=Object(l.b)(null,function(e){return{deleteProductDispatch:function(t){return e(S(t))}}})(Object(A.f)(ne)),ce=Object(A.f)(function(e){var t=e.products,a=e.history,n=Object(Q.chunk)(t,3);return r.a.createElement(N.a,null,r.a.createElement(B.a,{color:"success",style:{marginBottom:"1rem"},onClick:function(){a.push("/add")}},"Add"),n.map(function(e,t){return r.a.createElement(q.a,{key:String(t),className:"mb-5"},e.map(function(e){return r.a.createElement(F.a,{sm:"4",key:e.id},r.a.createElement(re,{product:e}))}))}))}),oe=function(e){Object(_.a)(a,e);var t=Object(V.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.categories,n=e.products;0===a.length&&t(g()),0===n.length&&t(R())}},{key:"render",value:function(){var e=this.props.products;return r.a.createElement(n.Fragment,null,r.a.createElement(Y,{name:"Products"}),r.a.createElement(ce,{products:e}))}}]),a}(n.Component),ie=Object(l.b)(function(e){var t=function(e){return e.categories.reduce(function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(m.a)({},t.id,t))},{})}(e);return{products:e.products.map(function(e){var a=e.categories.map(function(e){return t[e]});return Object(s.a)(Object(s.a)({},e),{},{categories:a})}),categories:e.categories}})(oe),le=a(137),ue=a(132),de=a(133),me=a(134),se=a(135),pe=a(136),Ee=a(20),fe=a(59),he=a(74),be=function(e){var t=e.field,a=e.form,r=a.touched,c=a.errors,o=e.inputprops,i=e.description,l=e.label,u=Object(he.a)(e,["field","form","inputprops","description","label"]),d=c[t.name],m=r[t.name];return n.createElement(ue.a,null,n.createElement(de.a,{for:o.id,className:"label-color"},l),n.createElement(me.a,Object.assign({id:o.id,label:l},t,u,{type:"select",invalid:Boolean(r[t.name]&&c[t.name]),placeholder:"Test"}),o.options.map(function(e,t){return e.name?n.createElement("option",{value:e.id,key:String(t)},e.name):n.createElement("option",{value:e,key:String(t)},e)})),!i||m&&d?"":n.createElement(se.a,null,i),m&&d&&n.createElement(pe.a,null,d))},ge=function(e){var t=Object.assign({},e.field),a=e.form,n=a.touched,c=a.errors,o=e.type,i=e.id,l=e.label,u=e.onChange,d=e.description,m=Object(he.a)(e,["field","form","type","id","label","onChange","description"]);return r.a.createElement(ue.a,null,"hidden"!==o?r.a.createElement(de.a,{for:i,className:"label-color"},l):"",r.a.createElement(me.a,Object.assign({type:o,id:i,label:l},m,t,{onChange:u||t.onChange,invalid:Boolean(n[t.name]&&c[t.name])})),!d||n[t.name]&&c[t.name]?"":r.a.createElement(se.a,null,d),n[t.name]&&c[t.name]?r.a.createElement(pe.a,null,c[t.name]):"")},De=function(e){Object(_.a)(a,e);var t=Object(V.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchCategoriesDispatch,a=e.fetchProductDispatch,n=e.categories,r=e.match.params.id,c=parseInt(r,10)||null;c&&a(c),0===n.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.updateProductDispatch,n=e.createProductDispatch,c=e.history,o=e.match.params.id,i=e.product,l=parseInt(o,10)||null,u=null;return u=null==l?{id:"",name:"",rating:"",featured:!1,itemsInStock:"",receiptDate:"",brand:"",categories:[],expirationDate:"",createdAt:new Date}:i,r.a.createElement(N.a,null,r.a.createElement(w.b,{to:"/"},"Back to Home"),r.a.createElement("hr",null),r.a.createElement(F.a,{md:"8",style:{border:"1px solid rgba(0,0,0,.125)",borderRadius:"0.25rem",margin:"1rem",padding:"1rem",backgroundColor:"white"}},r.a.createElement("h2",null,l?"Edit product":"Add Product"),r.a.createElement(Ee.b,{enableReinitialize:!0,initialValues:u,validationSchema:fe.d().shape({name:fe.e().max(200,"Should be no longer than 200 symbols").required("Required"),rating:fe.c().integer().max(10,"Should be no shorter than 10 symbols").required("Required"),categories:fe.a().min(1,"Choose at least one category").max(5,"Choose no more than five categories"),expirationDate:fe.b().nullable().default(null).min(ae()().add(30,"days"),"Expiration date should be later than month from now or not set")}),onSubmit:function(e,t){l?a(e):n(e),t.setSubmitting(!1),c.push("/")}},function(e){var a=e.errors,n=e.touched,c=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,l=e.setFieldValue;return r.a.createElement(le.a,{onSubmit:o},r.a.createElement(Ee.a,{type:"hidden",label:"ID",name:"id",id:"id",component:ge}),r.a.createElement(Ee.a,{type:"hidden",label:"Created At",name:"createdAt",id:"createdAt",component:ge}),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{type:"text",label:"Name",name:"name",description:"Required",id:"name",component:ge}))),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{type:"number",label:"Rating",name:"rating",id:"rating",description:"Required",component:ge,onChange:function(e){c(e),e.target.value>8&&l("featured",!0)}}))),r.a.createElement(ue.a,{check:!0,style:{marginBottom:"1.5rem"}},r.a.createElement(de.a,{check:!0},r.a.createElement(me.a,{type:"checkbox",name:"featured",tag:Ee.a,invalid:Boolean(n.featured&&a.featured)})," ","Featured"),r.a.createElement(se.a,null,"Auto checked if rating greater than eight"),n.featured&&a.featured?r.a.createElement(pe.a,null,a.featured):""),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{type:"number",label:"Items In Stock",name:"itemsInStock",id:"itemsInStock",component:ge}))),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{type:"date",label:"Receipt Date",name:"receiptDate",id:"receiptDate",component:ge}))),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{type:"text",label:"Brand",name:"brand",id:"brand",component:ge}))),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{label:"Categories",name:"categories",component:be,description:"Required, select at least one, no more than five. Use ctrl/cmd for multiple selection",multiple:!0,inputprops:{name:"categories",id:"categories",options:t,defaultOption:"No category"}}))),r.a.createElement(ue.a,{row:!0},r.a.createElement(F.a,{md:"12"},r.a.createElement(Ee.a,{type:"date",label:"Expiration Date",name:"expirationDate",id:"expirationDate",component:ge}))),r.a.createElement(B.a,{type:"submit",color:"primary",disabled:i},"Save"))})))}}]),a}(n.Component);De.defaultProps={match:{params:{id:null}}};var ve=Object(l.b)(function(e){return{categories:e.categories,product:e.product}},function(e){return{fetchCategoriesDispatch:function(){return e(g())},fetchProductDispatch:function(t){return e(k(t))},createProductDispatch:function(t){e(x(t))},updateProductDispatch:function(t){e(T(t))}}})(Object(A.f)(De)),ye=function(){return r.a.createElement("h1",null,"Not Found")};a(115),a(116);var Oe=Object(i.createStore)(I,Object(d.composeWithDevTools)(Object(i.applyMiddleware)(u.a)));o.a.render(r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement(l.a,{store:Oe},r.a.createElement(w.a,null,r.a.createElement(M,null,r.a.createElement(A.c,null,r.a.createElement(A.a,{exact:!0,path:"/",component:ie}),",",r.a.createElement(A.a,{exact:!0,path:["/add","/edit/:id"],component:ve}),",",r.a.createElement(A.a,{path:"*",component:ye}),",")))))),document.getElementById("root"))},98:function(e,t,a){e.exports=a(117)}},[[98,1,2]]]);
//# sourceMappingURL=main.1da9bee4.chunk.js.map